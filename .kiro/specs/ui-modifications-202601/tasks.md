# Implementation Plan: UI Modifications 202601

## Overview

本实现计划将江原门户系统的 UI 修改需求分解为具体的编码任务。涵盖前端组件修改、样式更新、表单字段添加、国际化文本更新、导出功能修复等。

采用 React + TypeScript + Tailwind CSS 技术栈，确保在 PC 和移动端的兼容性。

## Tasks

- [x] 1. 设置项目基础和样式变量
  - 更新全局 CSS 变量（主色调、字体）
  - 配置 Tailwind CSS 自定义颜色
  - 更新 Logo URL 常量
  - _Requirements: 1.1, 1.2, 1.3, 1.4_

- [ ]* 1.1 编写样式变量属性测试
  - **Property 1: 日期格式化一致性**
  - **Validates: Requirements 2.3**

- [ ] 2. 实现主页品牌更新
  - [x] 2.1 更新 Header 组件 Logo 显示
    - 将 Logo 图片改为 "강원창업톡" 文字显示
    - 设置合适的字体样式和颜色
    - _Requirements: 1.1_

  - [x] 2.2 更新菜单栏样式和文字
    - 设置主页和会员页面菜单栏背景色为 #E3F2FD（淡蓝色）
    - 设置菜单文字颜色为 #002244（深蓝色）
    - 更新"프로젝트"为"사업공고"
    - _Requirements: 1.2, 1.3, 1.5_

  - [x] 2.3 更新首页区块标题
    - 将"최신 공고"改为"사업공고"
    - 将"뉴스 자료"改为"신규공고"
    - _Requirements: 1.6, 1.7_

  - [ ]* 2.4 编写主页响应式布局测试
    - 测试 PC 和移动端布局正确性
    - _Requirements: 1.8_

- [ ] 3. 扩展企业信息页面表单
  - [x] 3.1 添加法人代表出生年月字段
    - 实现日期选择器组件
    - 设置 YYYY/MM/DD 格式显示
    - 添加表单验证
    - _Requirements: 2.1, 2.2, 2.3_

  - [x] 3.2 添加法人代表性别字段
    - 实现单选按钮或下拉框
    - 提供男/女选项
    - _Requirements: 2.4, 2.5_

  - [x] 3.3 实现所在地下拉选择
    - 创建江原道地区选项常量
    - 实现下拉选择组件
    - 添加数据保存逻辑
    - _Requirements: 3.1, 3.2, 3.3_

  - [ ]* 3.4 编写企业信息表单属性测试
    - **Property 1: 日期格式化一致性**
    - **Validates: Requirements 2.3**

  - [ ]* 3.5 编写企业信息响应式测试
    - 测试 PC 和移动端表单布局
    - _Requirements: 2.6, 3.4_

- [x] 4. 扩展业绩录入页面
  - [x] 4.1 添加 HSK 代码输入字段
    - 实现仅数字输入验证
    - 添加10位数字长度验证
    - 显示参考链接
    - _Requirements: 4.1, 4.2, 4.3, 4.4_

  - [x] 4.2 添加出口国家输入字段
    - 实现两个国家输入字段
    - 确保现有功能不受影响
    - _Requirements: 4.5, 4.6_

  - [ ]* 4.3 编写 HSK 代码验证属性测试
    - **Property 2: HSK 代码仅允许数字**
    - **Property 3: HSK 代码长度验证**
    - **Validates: Requirements 4.2, 4.3**

  - [ ]* 4.4 编写业绩录入响应式测试
    - 测试 PC 和移动端布局
    - _Requirements: 4.7_

- [x] 5. 更新业务信息页面
  - [x] 5.1 修改创业类型为下拉选择
    - 实现下拉框组件
    - 添加预备、创业3年以下、跃升7年以上、再创业选项
    - _Requirements: 5.1, 5.2_

  - [x] 5.2 更新产业分类代码字段
    - 将"업종"改为"한국표준산업분류코드[대분류]"
    - 实现 A-U 大分类下拉框
    - _Requirements: 5.3, 5.4_

  - [x] 5.3 实现级联中分类选择
    - 将"사업분야"改为"지역주력산업코드[중분류]"
    - 实现大分类选择后筛选中分类逻辑
    - _Requirements: 5.5, 5.6_

  - [ ]* 5.4 编写产业分类级联属性测试
    - **Property 4: 产业分类级联筛选**
    - **Validates: Requirements 5.6**

  - [ ]* 5.5 编写业务信息响应式测试
    - 测试 PC 和移动端布局
    - _Requirements: 5.7_

- [x] 6. 添加企业信息底部区块
  - [x] 6.1 实现产业合作意向领域
    - 添加技术合作、市场拓展、人才培养复选框
    - _Requirements: 6.1, 6.2_

  - [x] 6.2 实现参与项目区块
    - 添加创业中心大学、全球事业、RISE事业、无复选框
    - 支持多选功能
    - _Requirements: 6.3, 6.4_

  - [x] 6.3 实现投资引进区块
    - 添加无选项、投资额、投资机构字段
    - 实现"无"选项联动逻辑
    - 添加数据持久化
    - _Requirements: 6.5, 6.6, 6.7, 6.8_

  - [ ]* 6.4 编写投资引进联动属性测试
    - **Property 5: 投资引进联动逻辑**
    - **Validates: Requirements 6.7**

  - [ ]* 6.5 编写企业信息底部响应式测试
    - 测试 PC 和移动端布局
    - _Requirements: 6.9_

- [x] 7. 实现业务管理申请记录功能
  - [x] 7.1 添加申请记录菜单和路由
    - 在业务管理页面添加申请记录菜单
    - 配置路由跳转
    - _Requirements: 7.1, 7.2_

  - [x] 7.2 创建申请记录查询页面
    - 实现申请记录列表组件
    - 显示项目名称、申请日期、进度状态、处理日期、操作按钮
    - 处理空状态显示
    - _Requirements: 7.3, 7.4_

  - [x] 7.3 实现搜索功能
    - 添加搜索输入框和按钮
    - 实现关键词筛选逻辑
    - 支持 Enter 键搜索
    - 支持清空搜索恢复列表
    - _Requirements: 7.5, 7.6, 7.7_

  - [x] 7.4 实现撤销申请功能
    - 在待审核/审核中状态显示"撤销申请"按钮
    - 实现确认弹窗
    - 调用取消申请 API
    - 更新 projects 模块的 locales/ko.json 国际化文件
    - _Requirements: 7.9, 7.10, 7.14_

  - [x] 7.5 实现查看拒绝原因功能
    - 在已拒绝状态显示"查看原因"按钮
    - 实现拒绝原因弹窗
    - 更新 projects 模块的 locales/ko.json 国际化文件
    - _Requirements: 7.11, 7.12, 7.14_

  - [x] 7.6 移除查看进度按钮
    - 删除"查看进度"按钮及相关代码
    - 删除进度弹窗组件
    - _Requirements: 7.13_

  - [ ]* 7.7 编写搜索筛选属性测试
    - **Property 6: 搜索关键词筛选**
    - **Validates: Requirements 7.5**

  - [ ]* 7.8 编写申请记录响应式测试
    - 测试 PC 和移动端布局
    - _Requirements: 7.8_

- [ ] 8. 检查点 - 前端表单和页面功能
  - 确保所有新增表单字段正常工作，询问用户是否有问题

- [x] 9. 更新国际化文本
  - [x] 9.1 修复项目申请弹窗字数显示
    - 将中文"字符"改为韩语"글자"或"자"
    - _Requirements: 8.1, 8.2_

  - [x] 9.2 更新管理员项目详情按钮文字
    - 更新"返回"为"뒤로가기"
    - 更新"申请列表"为"신청 목록"
    - 更新"批准"为"승인"
    - 更新"拒绝"为"거절"
    - _Requirements: 9.1, 9.2, 9.3, 9.4_

  - [x] 9.3 更新管理员企业会员详情文字
    - 更新"待审核"为"승인 대기"
    - 更新"人"为"명"
    - 更新"财务历史数据"为"재무 이력 데이터"
    - _Requirements: 10.1, 10.2, 10.3_

- [-] 10. 修复管理员登录页面链接
  - [x] 10.1 修复忘记密码链接
    - 确保链接跳转到正确的密码重置页面
    - _Requirements: 11.1_

  - [x] 10.2 修复会员登录跳转链接
    - 确保链接正常跳转到会员登录页面
    - 避免 404 错误
    - _Requirements: 11.2, 11.3_

- [x] 11. 修复导出功能
  - [x] 11.1 修复企业会员管理导出
    - 修复 Excel 导出功能，确保下载 .xlsx 文件
    - 修复 CSV 导出功能，确保下载 .csv 文件
    - _Requirements: 12.1, 12.2_

  - [x] 11.2 修复业绩管理导出
    - 修复 Excel 导出功能
    - 修复 CSV 导出功能
    - _Requirements: 12.3, 12.4_

  - [x] 11.3 修复项目管理导出
    - 修复 Excel 导出功能
    - 修复 CSV 导出功能
    - _Requirements: 12.5, 12.6_

  - [x] 11.4 确保导出文件格式正确
    - 设置正确的 Content-Type
    - 设置正确的文件名和编码
    - _Requirements: 12.7_

  - [ ]* 11.5 编写导出功能属性测试
    - **Property 7: 导出文件格式正确性**
    - **Validates: Requirements 12.7**

- [x] 12. 实现横幅移动端图片功能
  - [x] 12.1 扩展横幅管理界面
    - 为每个横幅添加桌面端和移动端图片上传字段
    - 添加推荐尺寸提示
    - _Requirements: 13.1, 13.2, 13.3_

  - [x] 12.2 实现响应式横幅显示
    - 实现屏幕宽度检测逻辑
    - 在移动端优先显示移动端图片
    - 使用 object-fit: cover 防止图片变形
    - _Requirements: 13.4, 13.5, 13.6_

  - [ ]* 12.3 编写响应式横幅属性测试
    - **Property 8: 响应式横幅图片切换**
    - **Validates: Requirements 13.4**

  - [ ]* 12.4 编写横幅图片响应式测试
    - 测试 PC、平板、移动端图片显示
    - _Requirements: 13.7_

- [x] 13. 数据库迁移
  - [x] 13.1 创建企业信息字段迁移
    - 添加 representative_birth_date, representative_gender 字段
    - 添加 location_region 字段
    - 添加 cooperation_fields, participation_programs, investment_status JSON 字段
    - _Requirements: 2.x, 3.x, 6.x_

  - [x] 13.2 创建业绩记录字段迁移
    - 添加 hsk_code, export_country1, export_country2 字段
    - _Requirements: 4.x_

  - [x] 13.3 创建横幅移动端图片字段迁移
    - 添加 mobile_image_url 字段
    - _Requirements: 13.x_

- [ ] 14. 最终检查点 - 确保所有测试通过
  - 确保所有测试通过，询问用户是否有问题

## Notes

- 任务标记 `*` 为可选任务，可跳过以加快 MVP 开发
- 每个任务都引用了具体的需求条目以确保可追溯性
- 检查点确保增量验证
- 属性测试验证通用正确性属性
- 单元测试验证具体示例和边界情况