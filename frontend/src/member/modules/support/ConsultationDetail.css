/**
 * Consultation Detail Component Styles - Member Portal
 * 咨询详情页面样式 - 美化版本
 * 使用 Tailwind CSS
 */

@tailwind components;
@tailwind utilities;

@layer components {
  /* Consultation Detail Page specific styles */
  .consultation-detail-page {
    @apply w-full max-w-full flex flex-col p-0 m-0 overflow-x-hidden relative;
    @apply bg-gradient-to-b from-blue-50/30 via-white to-gray-50/50;
    @apply min-h-screen;
  }

  /* 确保 banner 是第一个元素 */
  .consultation-detail-page > .member-banner-section,
  .consultation-detail-page > .banner-section {
    @apply order-1;
    @apply -mt-[70px];
  }

  /* Submenu Styling */
  .consultation-detail-page .support-submenu {
    @apply bg-white/95 shadow-md border-b border-gray-200/50;
    @apply sticky top-0 z-10;
    @apply backdrop-blur-md;
  }

  /* Tab Content */
  .consultation-detail-page .tab-content {
    @apply animate-fade-in;
    @apply py-6 px-4 sm:py-8 sm:px-6 lg:px-8;
    @apply max-w-7xl mx-auto;
  }

  /* Card Styles (保留用于 loading 和 error 状态) */
  .consultation-card {
    @apply shadow-xl border border-gray-200/50;
    @apply bg-white rounded-2xl;
    @apply overflow-hidden;
    @apply transition-all duration-300;
  }

  .loading-card,
  .error-card {
    @apply shadow-lg border border-gray-200/50;
    @apply bg-white rounded-2xl;
    @apply overflow-hidden;
  }

  /* Loading State */
  .loading-container {
    @apply flex flex-col items-center justify-center py-16 px-8;
  }

  .loading-spinner {
    @apply w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full;
    animation: spin 1s linear infinite;
  }

  .loading-text {
    @apply mt-6 text-lg font-medium text-gray-600;
    @apply animate-pulse;
  }

  /* Error State */
  .error-container {
    @apply flex flex-col items-center justify-center py-16 px-8 text-center;
  }

  .error-icon {
    @apply text-6xl mb-4;
    @apply animate-bounce;
  }

  .error-message {
    @apply text-xl font-semibold text-gray-800 mb-6;
  }

  .error-button {
    @apply mt-4;
  }

  /* Consultation Detail Wrapper */
  .consultation-detail-wrapper {
    @apply w-full max-w-5xl mx-auto;
    @apply space-y-6 sm:space-y-8;
    @apply animate-fade-in;
  }

  /* Consultation Header */
  .consultation-header {
    @apply bg-white rounded-2xl shadow-lg border border-gray-200/50;
    @apply p-4 sm:p-6 lg:p-8;
    @apply space-y-6;
  }

  .back-button {
    @apply flex items-center gap-2 px-4 py-2 rounded-lg;
    @apply text-gray-600 hover:text-blue-600 hover:bg-blue-50;
    @apply transition-all duration-200;
    @apply font-medium;
    @apply mb-4;
  }

  .back-button .icon {
    @apply w-5 h-5 transition-transform duration-200;
  }

  .back-button:hover .icon {
    @apply -translate-x-1;
  }

  .header-content {
    @apply space-y-6;
  }

  .header-title-section {
    @apply flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4;
    @apply pb-4 sm:pb-6;
    @apply border-b-2 border-gray-200;
  }

  .consultation-title {
    @apply text-2xl sm:text-3xl font-bold text-gray-900 m-0;
    @apply leading-tight;
    @apply flex-1;
  }

  /* Status Badge */
  .status-badge {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-full;
    @apply text-sm font-semibold;
    @apply shadow-md;
    @apply transition-all duration-300;
    @apply animate-fade-in;
    @apply flex-shrink-0;
  }

  .status-answered {
    @apply bg-gradient-to-r from-green-500 to-emerald-500 text-white;
    @apply shadow-green-200;
  }

  .status-pending {
    @apply bg-gradient-to-r from-amber-500 to-orange-500 text-white;
    @apply shadow-amber-200;
  }

  .badge-text {
    @apply ml-1;
  }

  /* Consultation Info Table */
  .consultation-info-table {
    @apply bg-gray-50 rounded-xl border border-gray-200;
    @apply p-4 sm:p-6;
    @apply space-y-4;
  }

  .info-row {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4;
  }

  .info-cell {
    @apply flex flex-col gap-1;
  }

  .info-label {
    @apply text-xs sm:text-sm font-semibold text-gray-600 uppercase tracking-wide;
  }

  .info-value {
    @apply text-sm sm:text-base text-gray-900 font-medium;
  }

  /* Consultation Timeline */
  .consultation-timeline {
    @apply space-y-6 sm:space-y-8;
  }

  /* Message Cards */
  .message-card {
    @apply shadow-lg border-2 rounded-2xl;
    @apply overflow-hidden;
    @apply transition-all duration-300;
    @apply animate-fade-in;
  }

  .message-user {
    @apply border-blue-200 bg-white;
  }

  .message-admin {
    @apply border-green-200 bg-white;
  }

  .message-header {
    @apply flex items-center justify-between gap-4;
    @apply px-4 sm:px-6 py-4;
    @apply border-b border-gray-200;
    @apply bg-gray-50;
  }

  .message-sender {
    @apply flex items-center gap-2;
  }

  .sender-icon {
    @apply text-xl;
  }

  .sender-name {
    @apply font-semibold text-gray-900;
    @apply text-sm sm:text-base;
  }

  .message-user .sender-name {
    @apply text-blue-700;
  }

  .message-admin .sender-name {
    @apply text-green-700;
  }

  .message-time {
    @apply text-xs sm:text-sm text-gray-500;
    @apply font-medium;
  }

  .message-content {
    @apply p-4 sm:p-6;
    @apply space-y-4;
  }

  .message-text {
    @apply text-gray-800 leading-relaxed whitespace-pre-wrap;
    @apply text-sm sm:text-base;
    @apply min-h-[80px];
  }

  /* Message Attachments */
  .message-attachments {
    @apply mt-4 pt-4;
    @apply border-t border-gray-200;
  }

  .attachments-header {
    @apply flex items-center gap-2 mb-4;
    @apply text-sm font-semibold text-gray-700;
  }

  .attachment-header-icon {
    @apply w-5 h-5 text-blue-600;
  }

  .attachments-title {
    @apply text-gray-700;
  }

  .attachments-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 gap-4;
  }

  .attachment-card {
    @apply flex items-start gap-3 p-4;
    @apply bg-gray-50 rounded-xl border border-gray-200;
    @apply hover:bg-blue-50 hover:border-blue-300;
    @apply transition-all duration-200;
  }

  .attachment-card-icon {
    @apply w-6 h-6 text-blue-600 flex-shrink-0;
  }

  .attachment-card-info {
    @apply flex flex-col gap-2 flex-1 min-w-0;
  }

  .attachment-card-name {
    @apply text-sm font-medium text-gray-700 truncate;
  }

  .attachment-download-btn {
    @apply text-xs text-blue-600 hover:text-blue-700;
    @apply p-0 h-auto;
  }

  .attachment-download-btn .icon {
    @apply w-4 h-4;
  }

  /* Pending Notice */
  .pending-notice {
    @apply flex flex-col items-center justify-center;
    @apply p-8 sm:p-12;
    @apply bg-amber-50 rounded-2xl border-2 border-amber-200;
    @apply text-center;
  }

  .pending-icon {
    @apply text-5xl mb-4;
    @apply animate-pulse;
  }

  .pending-text {
    @apply text-base sm:text-lg text-gray-700;
    @apply font-medium;
  }

  /* Consultation Actions */
  .consultation-actions {
    @apply flex flex-col sm:flex-row gap-4;
    @apply justify-end;
    @apply pt-6;
    @apply border-t-2 border-gray-200;
  }

  .action-button {
    @apply flex-1 sm:flex-none;
    @apply transition-all duration-200;
    @apply min-w-[120px];
  }

  .action-button:hover {
    @apply transform scale-105;
  }
}

@layer utilities {
  @keyframes fadeIn {
    from {
      @apply opacity-0 translate-y-6;
    }
    to {
      @apply opacity-100 translate-y-0;
    }
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.5s ease-out;
  }

  /* Smooth scroll */
  .consultation-detail-page {
    scroll-behavior: smooth;
  }
}

