# PRD: 非功能性需求 (Non-Functional Requirements)

**版本**: v1.0  
**日期**: 2026-01-24  
**状态**: 已批准 (Approved)

---

## 1. 业务目标与愿景

### 核心痛点

系统需要满足政府机构级别的性能、安全、可用性和可维护性要求，确保企业用户和管理员能够稳定、安全地使用平台。

### 成功指标

- **可用性**: 工作时间可用性 ≥ 99%
- **性能**: P95响应时间 < 1s
- **安全**: 零数据泄露事件

---

## 2. 性能需求 (NFR-PERF)

### NFR-PERF-001: 响应时间

> **作为** 系统用户,  
> **我想要** 页面和操作快速响应,  
> **以便** 高效完成工作任务。

**验收标准**:

- [x] 页面加载时间 < 3秒
- [x] API响应时间 < 1秒 (P95)
- [x] 文件上传 (<10MB) < 5秒

### NFR-PERF-002: 并发处理

**验收标准**:

- [x] 支持100并发用户
- [x] 支持1000 API请求/分钟
- [x] 数据库连接池正常工作

### NFR-PERF-003: 可扩展性

**验收标准**:

- [x] 支持水平扩展
- [ ] CDN配置静态资源

---

## 3. 可用性需求 (NFR-AVAIL)

### NFR-AVAIL-001: 运行时间

> **作为** 系统用户,  
> **我想要** 系统在工作时间稳定可用,  
> **以便** 不影响日常业务操作。

**验收标准**:

- [x] 工作时间 (9AM-6PM KST) 可用性 ≥ 99%
- [x] 每月维护停机时间 < 4小时
- [x] 健康检查端点配置

### NFR-AVAIL-002: 故障恢复

**验收标准**:

- [x] 数据库自动备份
- [x] 备份恢复流程文档化
- [ ] 关键服务自动故障转移

---

## 4. 安全需求 (NFR-SEC)

### NFR-SEC-001: 认证安全

> **作为** 系统管理员,  
> **我想要** 用户认证机制安全可靠,  
> **以便** 防止未授权访问。

**验收标准**:

- [x] 密码使用 PBKDF2/SHA256 哈希
- [x] JWT令牌过期时间合理 (15分钟 Access, 7天 Refresh)
- [x] 5次登录失败后账号锁定
- [x] 30分钟无操作自动登出

### NFR-SEC-002: 数据保护

**验收标准**:

- [x] 所有通信使用 HTTPS/TLS 1.2+
- [x] 数据库存储加密 (Supabase)
- [x] 敏感字段加密存储

### NFR-SEC-003: 输入安全

**验收标准**:

- [x] SQL注入防护 (参数化查询)
- [x] XSS防护 (输入清洗)
- [x] CSRF防护
- [x] 文件上传验证 (类型、大小、MIME)

### NFR-SEC-004: 审计日志

**验收标准**:

- [x] 登录/登出事件记录
- [x] 数据修改记录
- [x] 管理员操作记录
- [x] 日志保留 ≥ 7年

---

## 5. 可用性/用户体验 (NFR-UX)

### NFR-UX-001: 无障碍访问

> **作为** 有视觉障碍的用户,  
> **我想要** 系统支持辅助技术,  
> **以便** 正常使用平台功能。

**验收标准**:

- [x] WCAG 2.1 Level AA 合规
- [x] 键盘导航支持
- [x] 屏幕阅读器兼容
- [x] 最小触摸目标 44×44px

### NFR-UX-002: 响应式设计 ✅ 已完成

**验收标准**:

- [x] 移动端 (≥360px) 布局正确
- [x] 平板 (≥768px) 布局正确
- [x] 桌面 (≥1280px) 布局正确
- [x] 表单垂直堆叠 (移动端)
- [x] 按钮垂直堆叠 (移动端)
- [x] Tab横向滚动 (移动端)

### NFR-UX-003: 国际化

**验收标准**:

- [x] 韩语支持
- [x] 中文支持
- [x] 日期格式本地化
- [x] 数字格式本地化

---

## 6. 可维护性 (NFR-MAINT)

### NFR-MAINT-001: 代码质量

> **作为** 开发人员,  
> **我想要** 代码结构清晰、文档完善,  
> **以便** 高效维护和扩展系统。

**验收标准**:

- [x] 模块化架构
- [x] 一致的命名约定 (见 `dev-terminology`)
- [x] 代码注释完整
- [x] 类型提示 (Python) / JSDoc (JS)

### NFR-MAINT-002: 文档

**验收标准**:

- [x] API文档 (OpenAPI/Swagger)
- [x] 架构文档
- [ ] 用户手册
- [ ] 管理员手册

---

## 7. 兼容性 (NFR-COMPAT)

### NFR-COMPAT-001: 浏览器支持

**验收标准**:

- [x] Chrome (最新2版本)
- [x] Firefox (最新2版本)
- [x] Safari (最新2版本)
- [x] Edge (最新2版本)

### NFR-COMPAT-002: 操作系统

**验收标准**:

- [x] Windows 10+
- [x] macOS 10.15+
- [x] iOS 13+
- [x] Android 8+

---

## 8. 合规性 (NFR-COMPLY)

### NFR-COMPLY-001: 数据隐私

**验收标准**:

- [x] 符合韩国个人信息保护法
- [x] 数据最小化原则
- [x] 用户同意机制

### NFR-COMPLY-002: 数据保留

**验收标准**:

- [x] 绩效数据保留 7年
- [x] 审计日志保留 7年
- [x] 删除请求处理流程

---

## 9. 基础设施 (NFR-INFRA)

### NFR-INFRA-001: 监控

**验收标准**:

- [x] 健康检查端点 `/healthz`
- [x] 就绪检查端点 `/ready`
- [x] 响应时间指标
- [x] 错误率指标

### NFR-INFRA-002: 错误追踪

**验收标准**:

- [x] 结构化日志 (JSON)
- [x] 错误聚合和告警
- [x] 堆栈追踪捕获

### NFR-INFRA-003: 备份与恢复

**验收标准**:

- [x] 每日自动数据库备份
- [x] 30天备份保留
- [x] 恢复时间目标 (RTO) < 4小时
- [x] 恢复点目标 (RPO) < 24小时

---

## 10. 技术注解

### 技术栈

| 层级   | 技术                                    |
| ------ | --------------------------------------- |
| 前端   | React 18.3+, Vite 6.x, Tailwind CSS 3.x |
| 后端   | FastAPI 0.115+, Python 3.11+            |
| 数据库 | PostgreSQL (Supabase)                   |
| 存储   | Supabase Storage                        |
| 认证   | JWT/OAuth2                              |

### 环境变量

**前端**:

- `VITE_API_BASE_URL`
- `VITE_WS_URL`
- `VITE_USE_MOCK`

**后端**:

- `DATABASE_URL`
- `JWT_SECRET`
- `CORS_ORIGINS`
- `EMAIL_SMTP_*`

### 部署架构

```
┌─────────────────┐      ┌─────────────────┐
│  Member Portal  │      │   Admin Portal   │
│   (React SPA)   │      │   (React SPA)    │
└────────┬────────┘      └────────┬────────┘
         │                        │
         └──────────┬─────────────┘
                    │ HTTPS/REST
         ┌──────────▼──────────┐
         │   FastAPI Backend   │
         │   (Uvicorn/Gunicorn)│
         └──────────┬──────────┘
                    │
    ┌───────────────┼───────────────┐
    │               │               │
┌───▼───┐    ┌──────▼──────┐  ┌─────▼─────┐
│PostgreSQL│  │   Storage   │  │Nice D&B API│
│(Supabase)│  │ (Supabase)  │  │  (External)│
└─────────┘  └─────────────┘  └───────────┘
```

---

_Generated by dev-prd skill_
